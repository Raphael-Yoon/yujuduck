import{GAME_CONSTANTS}from"./constants.js";export class GameRenderer{constructor(t,i,e){this.canvas=t,this.ctx=i,this.game=e}drawBackground(){const t=this.game.getImages().background;t?this.ctx.drawImage(t,0,0,this.canvas.width,this.canvas.height):(this.ctx.fillStyle="#87CEEB",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height))}drawPrizeChute(){const t=this.game.getImages().prize;t?this.ctx.drawImage(t,this.game.prizeChuteX,this.canvas.height-220,300,220):(this.ctx.fillStyle="#8B4513",this.ctx.fillRect(this.game.prizeChuteX,this.canvas.height-200,300,200))}drawDolls(){this.game.getDolls().forEach(t=>{if(!t.isGrabbed){const i=this.game.getDollImage(t.id);i?this.ctx.drawImage(i,t.x,t.y,t.width,t.height):(this.ctx.fillStyle="Common"===t.rarity?"#FFB6C1":"Rare"===t.rarity?"#DDA0DD":"#FF69B4",this.ctx.fillRect(t.x,t.y,t.width,t.height),this.ctx.fillStyle="black",this.ctx.font="10px Arial",this.ctx.textAlign="center",this.ctx.fillText(t.name,t.x+t.width/2,t.y+t.height/2))}})}drawClaw(){const t=this.game.getClaw(),i=t.isClosed?this.game.getImages().clawClosed:this.game.getImages().clawOpen;if(i){let e=t.x,h=t.y;t.isShaking&&(e+=6*(Math.random()-.5),h+=6*(Math.random()-.5)),this.ctx.drawImage(i,e,h,t.width,t.height)}else this.ctx.fillStyle=t.isClosed?"#999":"#ccc",this.ctx.fillRect(t.x,t.y,t.width,t.height);if(t.grabbedDoll){const i=this.game.getDollImage(t.grabbedDoll.id);i&&this.ctx.drawImage(i,t.x+10,t.y+t.height-10,t.grabbedDoll.width,t.grabbedDoll.height)}}drawClawLine(){const t=this.game.getClaw();this.ctx.strokeStyle="#333",this.ctx.lineWidth=3,this.ctx.beginPath(),this.ctx.moveTo(t.x+t.width/2,0),this.ctx.lineTo(t.x+t.width/2,t.y),this.ctx.stroke()}render(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawBackground(),this.drawPrizeChute(),this.drawDolls(),this.drawClawLine(),this.drawClaw()}}